<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">user_guide | SynFutures Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="user_guide | SynFutures Docs"><meta data-react-helmet="true" name="description" content="User Guide By Examples"><meta data-react-helmet="true" property="og:description" content="User Guide By Examples"><meta data-react-helmet="true" property="og:url" content="https://SynFutures.github.io/docs/docs/user_guide"><link data-react-helmet="true" rel="shortcut icon" href="/docs/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://SynFutures.github.io/docs/docs/user_guide"><link rel="stylesheet" href="/docs/styles.58710d0f.css">
<link rel="preload" href="/docs/styles.971d595f.js" as="script">
<link rel="preload" href="/docs/runtime~main.363fadf9.js" as="script">
<link rel="preload" href="/docs/main.edf4fcce.js" as="script">
<link rel="preload" href="/docs/1.d277a76e.js" as="script">
<link rel="preload" href="/docs/2.f9b8aa62.js" as="script">
<link rel="preload" href="/docs/19.92c441ce.js" as="script">
<link rel="preload" href="/docs/935f2afb.23e7b112.js" as="script">
<link rel="preload" href="/docs/17896441.50021248.js" as="script">
<link rel="preload" href="/docs/9070f196.796ac19a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a href="https://synfutures.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/docs/img/logo_dark.png" alt="SynFutures Logo"></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/SynFutures" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a href="https://synfutures.com" target="_blank" rel="noopener noreferrer" class="navbar__brand"><img class="navbar__logo" src="/docs/img/logo_dark.png" alt="SynFutures Logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/SynFutures" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">user_guide</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="user-guide-by-examples"></a>User Guide By Examples<a aria-hidden="true" tabindex="-1" class="hash-link" href="#user-guide-by-examples" title="Direct link to heading">#</a></h1><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="liquidity-providers"></a>Liquidity Providers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#liquidity-providers" title="Direct link to heading">#</a></h2><p>As a liquidity provider, you can pick any BASE/QUOTE trading pair with any exipry date allowed to add your QUOTE assets into the pool. </p><p>If you choose ETH/USDC trading pair with 2021-12-31 UTC 08:00 as the expiry, you may find that such pair does not exist yet. Then you use the &quot;Create Pair&quot; button to create and init such pair. Except for the BASE/QUOTE and expiry data, you also need to specify the initPrice and amount you want to add to the pool. The initPrice should not deviate too much from the current index price. </p><blockquote><p>Suppose the initPrice is 500, and initAmount is 1050.（TODO: no place to specify leverage?） After related txs are successfully processed, you may find the amm&#x27;s account holds 1 LONG position with 1000 balance,  and your own account holds 1 SHORT position with 50 balance. Except this, you also get 1 LP token as the credential for provding liquidity for this pool. </p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>1</td><td>1000</td><td>500</td></tr><tr><td>You</td><td>-1</td><td>50</td><td>500</td></tr></tbody></table></blockquote><p>Since the pool is already initated, you can add more liquidity through two methods: one for normal add liquidity，the other for depositAndAdd. The latter one combines the deposit function and add liquidity function into one function.  If you have already deposited some tokens into this pair, you may add liquidity direclty. Otherwise, depositAndAdd suits for you. To use depositAndAdd, you need to specify an extra &quot;leverage&quot; parameter which determines the position &amp; balance finally added to the amm&#x27; s account and your owns. For detailed calculation, please refer to faq: For liquidator and system maintaniner.</p><blockquote><p>Suppose you choose to deposit and add liquidity separately, and after you deposit 500 USDC to your account:</p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>1</td><td>1000</td><td>500</td></tr><tr><td>You</td><td>-1</td><td>550</td><td>500</td></tr></tbody></table><p>Then you decide to add the newly 500 USDC into the pool, but this tx will revert during execution, since you don&#x27;t have enough margin for the newly generated SHORT position in your account. So you add 450 USDC into the pool instead, leaving 50 USDC in your account as margin:</p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>1.45</td><td>1450</td><td>725</td></tr><tr><td>You</td><td>-1.45</td><td>100</td><td>725</td></tr></tbody></table></blockquote><p>If you want to get your money back, you can use the &quot;Remove Liquidity&quot; function, given the amount of LP token you&#x27;d like to burn  you may get part of your money back. </p><blockquote><p>Suppose you want to burn 1 LP token, for this tx, position removed from amm&#x27;s account is  1 / 1.45 <em> 1.45 = 1, together with 1 </em> 500 * 2 =1000 USDC transfered to your account.</p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>0.45</td><td>450</td><td>225</td></tr><tr><td>You</td><td>-0.45</td><td>1100</td><td>225</td></tr></tbody></table></blockquote><p>You are allowed to either add liquidity and remove liquidity when the trading pair is on NORMAL status. When it goes into SETTLING status, you are not allowed to add liquidity. And after the pair is SETTLED, you can not remove liquidity any more. Since all amm&#x27;s positions are setteled at the moment trading pair enters SETTLED, you should use &quot;Settle Share&quot; instead to get all your money back. </p><blockquote><p>Table below shows the accounts when pair is already settled with 500 as the settlement price:</p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>0</td><td>450</td><td>0</td></tr><tr><td>You</td><td>-0.45</td><td>1100</td><td>225</td></tr></tbody></table><p>Then you need to settle your own share with 0.45 LP token with &quot;Settle Share&quot; button:</p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>0</td><td>0</td><td>0</td></tr><tr><td>You</td><td>-0.45</td><td>1550</td><td>225</td></tr></tbody></table><p>There are 0.45 SHORT position left in your account, so you also need to settle your positions with &quot;settle&quot; button, it will calculate your pnl with positions left and add it to your balance, also clear your positions, since the settlement price is 500 as before, pnl for you is 0, and together with the withdraw function, you may find 1550 USDC returned to your own address with your system account left with all 0:</p><table><thead><tr><th>account</th><th>position</th><th>balance</th><th>entryNotional</th></tr></thead><tbody><tr><td>Amm</td><td>0</td><td>0</td><td>0</td></tr><tr><td>You</td><td>0</td><td>0</td><td>0</td></tr></tbody></table></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="traders"></a>Traders<a aria-hidden="true" tabindex="-1" class="hash-link" href="#traders" title="Direct link to heading">#</a></h2></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/SynFutures/docs/edit/master/docs/docs/user_guide.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#liquidity-providers" class="table-of-contents__link">Liquidity Providers</a></li><li><a href="#traders" class="table-of-contents__link">Traders</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2021 SynFutures. Built with Docusaurus.</div></div></div></footer></div>
<script src="/docs/styles.971d595f.js"></script>
<script src="/docs/runtime~main.363fadf9.js"></script>
<script src="/docs/main.edf4fcce.js"></script>
<script src="/docs/1.d277a76e.js"></script>
<script src="/docs/2.f9b8aa62.js"></script>
<script src="/docs/19.92c441ce.js"></script>
<script src="/docs/935f2afb.23e7b112.js"></script>
<script src="/docs/17896441.50021248.js"></script>
<script src="/docs/9070f196.796ac19a.js"></script>
</body>
</html>